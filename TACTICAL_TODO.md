## CURRENT GOAL: M2 — Stable Public API Surface
- TARGET_FILE: wireframe_cli_renderer/math_utils.py, camera.py, scene.py, mesh.py, __init__.py
- TRUTH_RELIANCE: TRUTH_SPEC.md Section 3.1 (Core Types), Section 3.2 (Minimal Usage), Section 7 (Camera System)
- TECHNICAL_CONSTRAINTS: No external deps. No global mutable state. No circular imports. Do NOT change renderer.py internals — add API methods alongside existing working code. All new methods must be usable independently of the demo render loop.
- ATOMIC_TASKS:
  - [ ] TASK_1: M1 Verification gate — run `python client_demo.py`, confirm it launches without import errors or crashes. If broken, fix import/init issues before proceeding. Signature: `python client_demo.py` exits cleanly or renders to terminal.
  - [ ] TASK_2: Add `Mat4.perspective(fov_deg, aspect, near, far) -> Mat4` classmethod to `math_utils.py`. Must produce a standard symmetric perspective matrix (row-major, matching existing Mat4 convention). Signature: `Mat4.perspective(60, 1.5, 0.1, 150.0)` returns a valid Mat4.
  - [ ] TASK_3: Add `Vec3.length() -> float` as alias for `Vec3.magnitude()` in `math_utils.py`. Spec (Sec 3.1) lists both `normalize` and `length`. Signature: `Vec3(1,2,3).length() == Vec3(1,2,3).magnitude()`.
  - [ ] TASK_4: Add `Camera.view_matrix() -> Mat4` method to `camera.py`. Computes a look-at style view matrix from the current orbital state (pitch, yaw, distance). Must import Mat4 from math_utils. Signature: `Camera(fov=60, distance=6).view_matrix()` returns Mat4.
  - [ ] TASK_5: Add `position` keyword to `Camera.__init__()` as alternative to `distance`. When `position=(x,y,z)` is passed, set `self.distance = Vec3(x,y,z).length()` and derive initial yaw/pitch from the position vector. This enables the TRUTH_SPEC Sec 3.2 usage: `Camera(fov=60, position=(0, 0, -6))`. Existing `distance=` parameter must still work unchanged.
  - [ ] TASK_6: Extend `Scene.add()` to accept an optional `transform: Mat4` parameter alongside the existing `translation` tuple. When `transform` is provided, store it as the object's Mat4; when only `translation` is given, auto-wrap it via `Mat4.translation(x, y, z)`. Internal storage changes to `list[tuple[Mesh, Mat4]]`. Renderer compatibility: renderer.py reads `(mesh, pos_tuple)` — add a `Scene.objects_as_tuples()` helper that extracts `(mesh, (tx, ty, tz))` from each Mat4 for backward compat until renderer is refactored.
  - [ ] TASK_7: Update `wireframe_cli_renderer/__init__.py` — verify all public symbols from TRUTH_SPEC Sec 3.1 are exported: `Vec3, Mat4, Mesh, Camera, Scene, RenderConfig, Renderer`. Remove `FogModel` from public exports (it is an internal detail not listed in Sec 3.1). Add `__all__` list.
  - [ ] VERIFICATION: (a) `python client_demo.py` still renders identically (no regression). (b) The following library-mode snippet runs without error: `from wireframe_cli_renderer import Mesh, Camera, Scene, Renderer, RenderConfig; s = Scene(); s.add(Mesh.cube(), translation=(0,0,0)); c = Camera(fov=60, position=(0,0,-6)); cfg = RenderConfig.detect_terminal(); r = Renderer(); m = c.view_matrix(); print(type(m))`. (c) `Mat4.perspective(60, 1.5, 0.1, 150.0)` returns a Mat4 with non-zero values.
